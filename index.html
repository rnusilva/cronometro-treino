<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cronômetro de Treino com Bootstrap</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f8f9fa; /* Tom de cinza claro para o fundo */
        text-align: center;
        padding-top: 50px;
    }
    .container {
        background-color: #ffffff; /* Fundo branco para o conteúdo */
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1); /* Sombra suave */
    }
    #cronometro {
        font-size: 48px;
        margin-bottom: 20px;
        color: #343a40; /* Tom escuro de cinza para o texto principal */
    }
    #tempoTreino {
        font-size: 18px;
        color: #6c757d; /* Tom médio de cinza para informações secundárias */
    }
    #contadorDescanso {
        font-size: 24px;
        margin-bottom: 20px;
        color: #6c757d; /* Tom médio de cinza para informações secundárias */
    }
    button {
        font-size: 18px;
        padding: 10px 20px;
        cursor: pointer;
        margin: 5px;
    }
</style>
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div id="cronometro">00:00</div>
            <div id="tempoTreino">Tempo de Treino</div>
            <div id="contadorDescanso">Clique em "Iniciar Treino" para começar</div>
            <button id="startTreino" class="btn btn-success" onclick="iniciarTreino()">Iniciar Treino</button>
            <button id="descansoBtn" class="btn btn-primary" onclick="iniciarDescanso()" disabled>Descanso</button>
            <button id="resetarTreino" class="btn btn-danger" onclick="resetarTreino()" disabled>Resetar</button>
        </div>
    </div>
</div>

<audio id="beep">
    <source src="beep.mp3" type="audio/mpeg">
    Seu navegador não suporta o elemento de áudio.
</audio>

<audio id="alarme">
    <source src="alarme.mp3" type="audio/mpeg">
    Seu navegador não suporta o elemento de áudio.
</audio>

<script>
let cronometroGeral;
let cronometroDescanso;
let tempoTotal = 0;
let tempoDescanso = 0;
let rodadaAtual = 1;
const rodadasTotais = 6;
let treinoIniciado = false;

function iniciarTreino() {
    if (!treinoIniciado) {
        treinoIniciado = true;
        document.getElementById('startTreino').disabled = true;
        document.getElementById('descansoBtn').disabled = false;
        document.getElementById('resetarTreino').disabled = false;

        cronometroGeral = setInterval(function() {
            tempoTotal++;
            const minutos = Math.floor(tempoTotal / 60);
            const segundos = tempoTotal % 60;
            document.getElementById('cronometro').textContent = 
                `${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;
        }, 1000);

        document.getElementById('tempoTreino').textContent = 'Tempo de Treino'; // Atualiza o label do cronômetro principal


        document.getElementById('contadorDescanso').textContent = 'Clique em Descanso ao final de cada rodada';
        //iniciarDescanso(); // Inicia o primeiro descanso automaticamente ao iniciar o treino
    }
}

function iniciarDescanso() {
    document.getElementById('descansoBtn').disabled = true;
    tempoDescanso = rodadaAtual === 1 ? 120 : 60; // Primeira rodada tem 4s de descanso, as demais 2s
    
    let minutos = Math.floor(tempoDescanso / 60);
    let segundos = tempoDescanso % 60;
    
    document.getElementById('contadorDescanso').textContent = `Descanso da Rodada ${rodadaAtual}: ${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;
    
    cronometroDescanso = setInterval(function() {
        tempoDescanso--;
        minutos = Math.floor(tempoDescanso / 60);
        segundos = tempoDescanso % 60;
        
        document.getElementById('contadorDescanso').textContent = `Descanso da Rodada ${rodadaAtual}: ${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;
        
        if (tempoDescanso === 0) {
            clearInterval(cronometroDescanso);
            rodadaAtual++;
            if (rodadaAtual <= rodadasTotais) {
                document.getElementById('contadorDescanso').textContent = `Clique em "Descanso" ao final da Rodada ${rodadaAtual}`;
                document.getElementById('descansoBtn').disabled = false;
                playAlarme(); // Toca o som de alarme ao final do descanso
            } else {
                document.getElementById('contadorDescanso').textContent = 'Treino concluído!';
                clearInterval(cronometroGeral);
                document.getElementById('descansoBtn').disabled = true;
                document.getElementById('resetarTreino').disabled = true;
                playAlarme(); // Toca o som de alarme ao final do treino
            }
        }
    }, 1000);
}

function resetarTreino() {
    treinoIniciado = false;
    clearInterval(cronometroGeral);
    clearInterval(cronometroDescanso);
    tempoTotal = 0;
    tempoDescanso = 0;
    rodadaAtual = 1;
    document.getElementById('cronometro').textContent = '00:00';
    document.getElementById('tempoTreino').textContent = 'Tempo de Treino'; // Reinicia o label do cronômetro principal
    document.getElementById('contadorDescanso').textContent = 'Clique em "Iniciar Treino" para começar';
    document.getElementById('startTreino').disabled = false;
    document.getElementById('descansoBtn').disabled = true;
    document.getElementById('resetarTreino').disabled = true;
}

function playAlarme() {
    const alarme = document.getElementById('alarme');
    alarme.play();
}
</script>

</body>
</html>
